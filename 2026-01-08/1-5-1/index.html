<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>쇼핑몰 데이터 파이프라인</title>
</head>
<body>
    <script>
        /* ================================
           [실습 과제] 쇼핑몰 데이터 파이프라인
           요구사항:
           1) 재고가 있는 상품만 추출
           2) 10% 할인된 salePrice 추가
           3) salePrice 기준 오름차순 정렬
        ================================ */

        const products = [
            { name: 'Mouse',   price: 50000,  stock: 10 },
            { name: 'Key',     price: 15000,  stock: 0 },
            { name: 'Monitor', price: 400000, stock: 5 },
            { name: 'Speaker', price: 80000,  stock: 0 }
        ];
            
        const result = products
            .filter(p => p.stock > 0)   //1) 재고가 있는 상품만 추출
            .map(p => ({...p, salePrice: p.price * 0.9}))   //2) 10% 할인된 salePrice 추가
            .sort((a, b) => a.salePrice - b.salePrice); //  3) salePrice 기준 오름차순 정렬
            
        console.log(result);
    </script>
</body>
</html>